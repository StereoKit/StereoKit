{
  "version": 3,
  "cmakeMinimumRequired": {
    "major": 3,
    "minor": 21,
    "patch": 0
  },
  "configurePresets": [
    {
      "name":        "Fast",
      "description": "Disable tests for faster builds",
      "hidden":      true,
      "cacheVariables": {
        "SK_BUILD_TESTS": "OFF"
      }
    },
    {
      "name":        "BuildType_Debug",
      "description": "Debug build type",
      "hidden":      true,
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Debug"
      }
    },
    {
      "name":        "BuildType_Release",
      "description": "Release build type",
      "hidden":      true,
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Release"
      }
    },
    {
      "name":        "Win32_Release_MT_Flags",
      "description": "Static runtime flags for Win32 Release builds",
      "hidden":      true,
      "cacheVariables": {
        "CMAKE_CXX_FLAGS_RELEASE": "/MT",
        "CMAKE_C_FLAGS_RELEASE": "/MT"
      }
    },
    {
      "name":        "Win32_Base",
      "description": "Base configuration for Windows",
      "hidden":      true,
      "condition": {
        "type": "equals",
        "lhs":  "${hostSystemName}",
        "rhs":  "Windows"
      }
    },
    {
      "name":      "Win32_x64_Base",
      "inherits":  "Win32_Base",
      "hidden":    true,
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_x64"
    },
    {
      "name":        "Win32_x64_Release",
      "description": "Release build for Win32 x64",
      "inherits":    ["Win32_x64_Base", "Win32_Release_MT_Flags"]
    },
    {
      "name":       "Win32_x64_Release_Fast",
      "inherits":   ["Win32_x64_Release", "Fast"],
      "binaryDir":  "${sourceDir}/bin/intermediate/Win32_x64_Fast"
    },
    {
      "name":        "Win32_x64_Debug",
      "description": "Debug build for Win32 x64",
      "inherits":    "Win32_x64_Base"
    },
    {
      "name":      "Win32_x64_Debug_Fast",
      "inherits":  ["Win32_x64_Debug", "Fast"],
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_x64_Fast"
    },
    {
      "name":         "Win32_Arm64_Base",
      "inherits":     "Win32_Base",
      "hidden":       true,
      "architecture": "ARM64",
      "binaryDir":    "${sourceDir}/bin/intermediate/Win32_Arm64"
    },
    {
      "name":        "Win32_Arm64_Debug",
      "description": "Debug build for Win32 Arm64",
      "inherits":    "Win32_Arm64_Base"
    },
    {
      "name":      "Win32_Arm64_Debug_Fast",
      "inherits":  ["Win32_Arm64_Debug", "Fast"],
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_Arm64_Fast"
    },
    {
      "name":        "Win32_Arm64_Release",
      "description": "Release build for Win32 Arm64",
      "inherits":    ["Win32_Arm64_Base", "Win32_Release_MT_Flags"]
    },
    {
      "name":      "Win32_Arm64_Release_Fast",
      "inherits":  ["Win32_Arm64_Release", "Fast"],
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_Arm64_Fast"
    },
    {
      "name":        "MinGW",
      "description": "Cross-compile for Windows using MinGW",
      "hidden":      true,
      "generator":   "Ninja",
      "cacheVariables": {
        "CMAKE_SYSTEM_NAME":         "Windows",
        "CMAKE_FIND_ROOT_PATH_MODE_PROGRAM": "NEVER",
        "CMAKE_FIND_ROOT_PATH_MODE_LIBRARY": "ONLY",
        "CMAKE_FIND_ROOT_PATH_MODE_INCLUDE": "ONLY"
      },
      "condition": {
        "type": "notEquals",
        "lhs":  "${hostSystemName}",
        "rhs":  "Windows"
      }
    },
    {
      "name":      "MinGW_x64_Base",
      "inherits":  "MinGW",
      "hidden":    true,
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_x64",
      "cacheVariables": {
        "CMAKE_C_COMPILER":   "x86_64-w64-mingw32-gcc",
        "CMAKE_CXX_COMPILER": "x86_64-w64-mingw32-g++",
        "CMAKE_RC_COMPILER":  "x86_64-w64-mingw32-windres"
      }
    },
    {
      "name":        "MinGW_x64_Release",
      "description": "Release cross-compile for Win32 x64 using MinGW",
      "inherits":    ["MinGW_x64_Base", "BuildType_Release"]
    },
    {
      "name":      "MinGW_x64_Release_Fast",
      "inherits":  ["MinGW_x64_Release", "Fast"],
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_x64_Fast"
    },
    {
      "name":        "MinGW_x64_Debug",
      "description": "Debug cross-compile for Win32 x64 using MinGW",
      "inherits":    ["MinGW_x64_Base", "BuildType_Debug"]
    },
    {
      "name":      "MinGW_x64_Debug_Fast",
      "inherits":  ["MinGW_x64_Debug", "Fast"],
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_x64_Fast"
    },
    {
      "name":      "MinGW_Arm64_Base",
      "inherits":  "MinGW",
      "hidden":    true,
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_Arm64",
      "cacheVariables": {
        "CMAKE_C_COMPILER":   "aarch64-w64-mingw32-gcc",
        "CMAKE_CXX_COMPILER": "aarch64-w64-mingw32-g++",
        "CMAKE_RC_COMPILER":  "aarch64-w64-mingw32-windres"
      }
    },
    {
      "name":        "MinGW_Arm64_Release",
      "description": "Release cross-compile for Win32 Arm64 using MinGW (requires llvm-mingw)",
      "inherits":    ["MinGW_Arm64_Base", "BuildType_Release"]
    },
    {
      "name":      "MinGW_Arm64_Release_Fast",
      "inherits":  ["MinGW_Arm64_Release", "Fast"],
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_Arm64_Fast"
    },
    {
      "name":        "MinGW_Arm64_Debug",
      "description": "Debug cross-compile for Win32 Arm64 using MinGW (requires llvm-mingw)",
      "inherits":    ["MinGW_Arm64_Base", "BuildType_Debug"]
    },
    {
      "name":      "MinGW_Arm64_Debug_Fast",
      "inherits":  ["MinGW_Arm64_Debug", "Fast"],
      "binaryDir": "${sourceDir}/bin/intermediate/Win32_Arm64_Fast"
    },
    {
      "name":        "Linux",
      "description": "Build for Linux",
      "hidden":      true,
      "generator":   "Ninja",
      "cacheVariables": {
        "CMAKE_SYSTEM_NAME":         "Linux",
        "CMAKE_C_COMPILER":          "clang",
        "CMAKE_CXX_COMPILER":        "clang++",
        "CMAKE_LINKER":              "lld",
        "CMAKE_EXE_LINKER_FLAGS":    "-fuse-ld=lld",
        "CMAKE_SHARED_LINKER_FLAGS": "-fuse-ld=lld",
        "CMAKE_MODULE_LINKER_FLAGS": "-fuse-ld=lld"
      },
      "condition": {
        "type": "equals",
        "lhs":  "${hostSystemName}",
        "rhs":  "Linux"
      }
    },
    {
      "name":        "Linux_x64_Release",
      "description": "Release build for Linux x64",
      "inherits":    ["Linux", "BuildType_Release"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Linux_x64_Release"
    },
    {
      "name":        "Linux_x64_Release_Fast",
      "inherits":    ["Linux_x64_Release", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Linux_x64_Release_Fast"
    },
    {
      "name":        "Linux_x64_Debug",
      "description": "Debug build for Linux x64",
      "inherits":    ["Linux", "BuildType_Debug"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Linux_x64_Debug"
    },
    {
      "name":        "Linux_x64_Debug_Fast",
      "inherits":    ["Linux_x64_Debug", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Linux_x64_Fast"
    },
    {
      "name":      "Linux_Arm64_Base",
      "inherits":  "Linux",
      "hidden":    true,
      "cacheVariables": {
        "CMAKE_C_COMPILER":          "aarch64-linux-gnu-gcc",
        "CMAKE_CXX_COMPILER":        "aarch64-linux-gnu-g++",
        "CMAKE_SYSTEM_PROCESSOR":    "arm64",
        "CMAKE_EXE_LINKER_FLAGS":    null,
        "CMAKE_SHARED_LINKER_FLAGS": null,
        "CMAKE_MODULE_LINKER_FLAGS": null
      }
    },
    {
      "name":        "Linux_Arm64_Release",
      "description": "Release build for Linux Arm64",
      "inherits":    ["Linux_Arm64_Base", "BuildType_Release"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Linux_ARM64_Release",
      "cacheVariables": {
        "CMAKE_AR":               "/usr/bin/aarch64-linux-gnu-ar",
        "CMAKE_LINKER":           "/usr/bin/aarch64-linux-gnu-ld",
        "CMAKE_OBJCOPY":          "/usr/bin/aarch64-linux-gnu-objcopy",
        "CMAKE_RANLIB":           "/usr/bin/aarch64-linux-gnu-ranlib",
        "CMAKE_SIZE":             "/usr/bin/aarch64-linux-gnu-size",
        "CMAKE_STRIP":            "/usr/bin/aarch64-linux-gnu-strip"
      }
    },
    {
      "name":        "Linux_Arm64_Release_Fast",
      "inherits":    ["Linux_Arm64_Release", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Linux_ARM64_Release_Fast"
    },
    {
      "name":        "Linux_Arm64_Debug",
      "description": "Debug build for Linux Arm64",
      "inherits":    ["Linux_Arm64_Base", "BuildType_Debug"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Linux_Arm64_Debug",
      "cacheVariables": {
        "CMAKE_LINKER":           "aarch64-linux-gnu-ld",
        "CMAKE_OBJCOPY":          "aarch64-linux-gnu-objcopy",
        "CMAKE_RANLIB":           "aarch64-linux-gnu-ranlib",
        "CMAKE_SIZE":             "aarch64-linux-gnu-size",
        "CMAKE_STRIP":            "aarch64-linux-gnu-strip"
      }
    },
    {
      "name":        "Linux_Arm64_Debug_Fast",
      "inherits":    ["Linux_Arm64_Debug", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Linux_Arm64_Debug_Fast"
    },
    {
      "name":        "MacOS",
      "description": "Build for MacOS",
      "hidden":      true,
      "generator":   "Ninja",
      "cacheVariables": {
        "CMAKE_SYSTEM_NAME": "Darwin"
      },
      "condition": {
        "type": "equals",
        "lhs":  "${hostSystemName}",
        "rhs":  "Darwin"
      }
    },
    {
      "name":      "MacOS_Arm64_Base",
      "inherits":  "MacOS",
      "hidden":    true,
      "cacheVariables": {
        "CMAKE_OSX_ARCHITECTURES": "arm64"
      }
    },
    {
      "name":        "MacOS_Arm64_Debug",
      "description": "Debug build for MacOS ARM64",
      "inherits":    ["MacOS_Arm64_Base", "BuildType_Debug"],
      "binaryDir":   "${sourceDir}/bin/intermediate/MacOS_Arm64_Debug"
    },
    {
      "name":        "MacOS_Arm64_Debug_Fast",
      "inherits":    ["MacOS_Arm64_Debug", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/MacOS_Arm64_Debug_Fast"
    },
    {
      "name":        "MacOS_Arm64_Release",
      "description": "Release build for MacOS ARM64",
      "inherits":    ["MacOS_Arm64_Base", "BuildType_Release"],
      "binaryDir":   "${sourceDir}/bin/intermediate/MacOS_Arm64_Release"
    },
    {
      "name":        "MacOS_Arm64_Release_Fast",
      "inherits":    ["MacOS_Arm64_Release", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/MacOS_Arm64_Release_Fast"
    },
    {
      "name":        "Android",
      "description": "Build for Android",
      "hidden":      true,
      "generator":   "Ninja",
      "cacheVariables": {
        "CMAKE_SYSTEM_NAME":    "Android",
        "CMAKE_ANDROID_NDK":    "$env{NDK}",
        "ANDROID_PLATFORM":     "android-32",
        "CMAKE_SYSTEM_VERSION": "32",
        "DYNAMIC_LOADER":       "ON",
        "SK_DYNAMIC_OPENXR":    "ON"
      }
    },
    {
      "name":      "Android_Arm64_Base",
      "inherits":  "Android",
      "hidden":    true,
      "binaryDir": "${sourceDir}/bin/intermediate/Android_ARM64",
      "cacheVariables": {
        "ANDROID_ABI":            "arm64-v8a",
        "CMAKE_ANDROID_ARCH_ABI": "arm64-v8a"
      }
    },
    {
      "name":        "Android_Arm64_Debug",
      "description": "Debug build for Android ARM64",
      "inherits":    ["Android_Arm64_Base", "BuildType_Debug"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Android_ARM64_Debug"
    },
    {
      "name":        "Android_Arm64_Debug_Fast",
      "inherits":    ["Android_Arm64_Debug", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Android_ARM64_Debug_Fast"
    },
    {
      "name":        "Android_Arm64_Release",
      "description": "Release build for Android ARM64",
      "inherits":    ["Android_Arm64_Base", "BuildType_Release"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Android_ARM64_Release"
    },
    {
      "name":        "Android_Arm64_Release_Fast",
      "inherits":    ["Android_Arm64_Release", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Android_ARM64_Release_Fast"
    },
    {
      "name":      "Android_x64_Base",
      "inherits":  "Android",
      "hidden":    true,
      "binaryDir": "${sourceDir}/bin/intermediate/Android_x64",
      "cacheVariables": {
        "ANDROID_ABI":            "x86_64",
        "CMAKE_ANDROID_ARCH_ABI": "x86_64"
      }
    },
    {
      "name":        "Android_x64_Release",
      "description": "Release build for Android x64",
      "inherits":    ["Android_x64_Base", "BuildType_Release"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Android_x64_Release"
    },
    {
      "name":        "Android_x64_Release_Fast",
      "inherits":    ["Android_x64_Release", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Android_x64_Release_Fast"
    },
    {
      "name":        "Android_x64_Debug",
      "description": "Debug build for Android x64",
      "inherits":    ["Android_x64_Base", "BuildType_Debug"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Android_x64_Debug"
    },
    {
      "name":        "Android_x64_Debug_Fast",
      "inherits":    ["Android_x64_Debug", "Fast"],
      "binaryDir":   "${sourceDir}/bin/intermediate/Android_x64_Debug_Fast"
    },
    {
      "name":        "Web_Release",
      "description": "Build for Web",
      "inherits":    "BuildType_Release",
      "binaryDir":   "${sourceDir}/bin/intermediate/cmake/Web_Release",
      "generator":   "Ninja",
      "cacheVariables": {
        "CMAKE_TOOLCHAIN_FILE":          "$env{EMSDK}/upstream/emscripten/cmake/Modules/Platform/Emscripten.cmake",
        "CMAKE_CROSSCOMPILING_EMULATOR": "$env{EMSDK_NODE}"
      }
    }
  ],
  "buildPresets": [
      {
        "name":             "Win32_Base",
        "hidden":           true,
        "jobs":             24,
        "condition":        {"type":"equals","lhs":"${hostSystemName}","rhs":"Windows"}
      },
      {
        "name":             "MinGW_Base",
        "hidden":           true,
        "jobs":             24,
        "condition":        {"type":"notEquals","lhs":"${hostSystemName}","rhs":"Windows"}
      },
      {
        "name":             "Default_Base",
        "hidden":           true,
        "jobs":             24
      },
      { "name":"Win32_x64_Debug",            "inherits":"Win32_Base",  "configuration":"Debug",   "configurePreset":"Win32_x64_Debug" },
      { "name":"Win32_x64_Debug_Fast",       "inherits":"Win32_Base",  "configuration":"Debug",   "configurePreset":"Win32_x64_Debug_Fast" },
      { "name":"Win32_x64_Release",          "inherits":"Win32_Base",  "configuration":"Release", "configurePreset":"Win32_x64_Release" },
      { "name":"Win32_x64_Release_Fast",     "inherits":"Win32_Base",  "configuration":"Release", "configurePreset":"Win32_x64_Release_Fast" },
      { "name":"Win32_Arm64_Debug",          "inherits":"Win32_Base",  "configuration":"Debug",   "configurePreset":"Win32_Arm64_Debug" },
      { "name":"Win32_Arm64_Debug_Fast",     "inherits":"Win32_Base",  "configuration":"Debug",   "configurePreset":"Win32_Arm64_Debug_Fast" },
      { "name":"Win32_Arm64_Release",        "inherits":"Win32_Base",  "configuration":"Release", "configurePreset":"Win32_Arm64_Release" },
      { "name":"Win32_Arm64_Release_Fast",   "inherits":"Win32_Base",  "configuration":"Release", "configurePreset":"Win32_Arm64_Release_Fast" },
      { "name":"MinGW_x64_Debug",            "inherits":"MinGW_Base",  "configuration":"Debug",   "configurePreset":"MinGW_x64_Debug" },
      { "name":"MinGW_x64_Debug_Fast",       "inherits":"MinGW_Base",  "configuration":"Debug",   "configurePreset":"MinGW_x64_Debug_Fast" },
      { "name":"MinGW_x64_Release",          "inherits":"MinGW_Base",  "configuration":"Release", "configurePreset":"MinGW_x64_Release" },
      { "name":"MinGW_x64_Release_Fast",     "inherits":"MinGW_Base",  "configuration":"Release", "configurePreset":"MinGW_x64_Release_Fast" },
      { "name":"MinGW_Arm64_Debug",          "inherits":"MinGW_Base",  "configuration":"Debug",   "configurePreset":"MinGW_Arm64_Debug" },
      { "name":"MinGW_Arm64_Debug_Fast",     "inherits":"MinGW_Base",  "configuration":"Debug",   "configurePreset":"MinGW_Arm64_Debug_Fast" },
      { "name":"MinGW_Arm64_Release",        "inherits":"MinGW_Base",  "configuration":"Release", "configurePreset":"MinGW_Arm64_Release" },
      { "name":"MinGW_Arm64_Release_Fast",   "inherits":"MinGW_Base",  "configuration":"Release", "configurePreset":"MinGW_Arm64_Release_Fast" },
      { "name":"Android_Arm64_Debug",        "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"Android_Arm64_Debug" },
      { "name":"Android_Arm64_Debug_Fast",   "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"Android_Arm64_Debug_Fast" },
      { "name":"Android_Arm64_Release",      "inherits":"Default_Base","configuration":"Release", "configurePreset":"Android_Arm64_Release" },
      { "name":"Android_Arm64_Release_Fast", "inherits":"Default_Base","configuration":"Release", "configurePreset":"Android_Arm64_Release_Fast" },
      { "name":"Android_x64_Release",        "inherits":"Default_Base","configuration":"Release", "configurePreset":"Android_x64_Release" },
      { "name":"Android_x64_Release_Fast",   "inherits":"Default_Base","configuration":"Release", "configurePreset":"Android_x64_Release_Fast" },
      { "name":"Android_x64_Debug",          "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"Android_x64_Debug" },
      { "name":"Android_x64_Debug_Fast",     "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"Android_x64_Debug_Fast" },
      { "name":"Linux_x64_Debug",            "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"Linux_x64_Debug" },
      { "name":"Linux_x64_Debug_Fast",       "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"Linux_x64_Debug_Fast" },
      { "name":"Linux_x64_Release",          "inherits":"Default_Base","configuration":"Release", "configurePreset":"Linux_x64_Release" },
      { "name":"Linux_x64_Release_Fast",     "inherits":"Default_Base","configuration":"Release", "configurePreset":"Linux_x64_Release_Fast" },
      { "name":"Linux_Arm64_Debug",          "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"Linux_Arm64_Debug" },
      { "name":"Linux_Arm64_Debug_Fast",     "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"Linux_Arm64_Debug_Fast" },
      { "name":"Linux_Arm64_Release",        "inherits":"Default_Base","configuration":"Release", "configurePreset":"Linux_Arm64_Release" },
      { "name":"Linux_Arm64_Release_Fast",   "inherits":"Default_Base","configuration":"Release", "configurePreset":"Linux_Arm64_Release_Fast" },
      { "name":"MacOS_Arm64_Debug",          "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"MacOS_Arm64_Debug" },
      { "name":"MacOS_Arm64_Debug_Fast",     "inherits":"Default_Base","configuration":"Debug",   "configurePreset":"MacOS_Arm64_Debug_Fast" },
      { "name":"MacOS_Arm64_Release",        "inherits":"Default_Base","configuration":"Release", "configurePreset":"MacOS_Arm64_Release" },
      { "name":"MacOS_Arm64_Release_Fast",   "inherits":"Default_Base","configuration":"Release", "configurePreset":"MacOS_Arm64_Release_Fast" },
      { "name":"Web_Release",                                          "configuration":"Release", "configurePreset":"Web_Release", "jobs":16 }
  ]
}
